<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title | safe }} | {{ site.name }}</title>

    <meta name="description" content="{{ meta.description | default(page.description) | default(site.description) | safe }}">
    <meta name="robots" content="{{ meta.robots | default('index,follow') }}">

    <link rel="canonical" href="{{ meta.url | default(site.url ~ page.url) }}">

    <!-- Favicon -->
    <link rel="icon" href="/favicon.png" type="image/png">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{{ meta.ogType | default('website') }}">
    <meta property="og:site_name" content="{{ site.name }}">
    <meta property="og:url" content="{{ meta.url | default(site.url ~ page.url) }}">
    <meta property="og:title" content="{{ meta.title | default(title) | safe }}">
    <meta property="og:description" content="{{ meta.description | default(page.description) | default(site.description) | safe }}">
    <meta property="og:image" content="{{ meta.image | default(site.logo) }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="{{ site.twitter }}">
    <meta name="twitter:url" content="{{ meta.url | default(site.url ~ page.url) }}">
    <meta name="twitter:title" content="{{ meta.title | default(title) | safe }}">
    <meta name="twitter:description" content="{{ meta.description | default(page.description) | default(site.description) | safe }}">
    <meta name="twitter:image" content="{{ meta.image | default(site.logo) }}">

    <link rel="stylesheet" href="/style.css">

    {% if page.url == '/' %}
    <script type="application/ld+json">
    {{ {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": site.name,
        "url": site.url,
        "logo": site.logo,
        "address": {
            "@type": "PostalAddress",
            "streetAddress": site.address.streetAddress,
            "addressLocality": site.address.addressLocality,
            "addressRegion": site.address.addressRegion,
            "postalCode": site.address.postalCode,
            "addressCountry": site.address.addressCountry
        }
    } | dump | safe }}
    </script>
    {% endif %}

    <!-- ReachCode tracking script (added per marketing) -->
    <script type="text/javascript" src="//cdn.rlets.com/capture_configs/868/1dc/a7f/80e495fa6b62a05e9821cad.js" async="async"></script>
</head>
<body class="bg-black text-white min-h-screen flex flex-col">
    <header class="w-full">
        <div class="max-w-[1240px] mx-auto px-4 pt-8 pb-4 flex items-center justify-between gap-4">
            <a href="/" class="hover:opacity-80 shrink-0">
                <img src="/logo.png" alt="Stars & Garters" class="h-20 md:h-32 w-auto">
            </a>

            <!-- Mobile menu button -->
            <button id="mobile-menu-btn" class="md:hidden p-2 text-white" aria-label="Toggle menu" aria-expanded="false">
                <svg id="menu-icon" class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
                <svg id="close-icon" class="w-8 h-8 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>

            <!-- Desktop nav -->
            <nav class="hidden md:flex gap-8 font-inter">
                <a href="/" class="hover:text-neutral-300">Now Showing</a>
                <a href="/calendar/" class="hover:text-neutral-300">Calendar</a>
                <a href="/auditions/" class="hover:text-neutral-300">Open Auditions</a>
                <a href="/booking/" class="hover:text-neutral-300">Booking</a>
            </nav>
        </div>

        <!-- Mobile nav -->
        <nav id="mobile-menu" class="hidden md:hidden border-t border-neutral-800 bg-neutral-900">
            <div class="max-w-[1240px] mx-auto px-4 py-4 flex flex-col gap-4 font-inter">
                <a href="/" class="py-2 hover:text-neutral-300">Now Showing</a>
                <a href="/calendar/" class="py-2 hover:text-neutral-300">Calendar</a>
                <a href="/auditions/" class="py-2 hover:text-neutral-300">Open Auditions</a>
                <a href="/booking/" class="py-2 hover:text-neutral-300">Booking</a>
            </div>
        </nav>
    </header>

    <script>
    (function() {
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');
        const closeIcon = document.getElementById('close-icon');

        btn.addEventListener('click', function() {
            const isOpen = !menu.classList.contains('hidden');
            menu.classList.toggle('hidden');
            menuIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
            btn.setAttribute('aria-expanded', !isOpen);
        });
    })();
    </script>

    <main class="max-w-[1240px] mx-auto px-4 py-8 flex-1">
        {{ content | safe }}
    </main>

    <footer class="w-full mt-auto">
        <div class="w-full border-t border-b border-neutral-700">
            <div class="max-w-[1240px] mx-auto grid grid-cols-1 md:grid-cols-2">
                <div class="aspect-video md:aspect-auto">
                    <img src="/map.png" alt="Stars & Garters Location" class="w-full h-full object-cover" style="min-height: 300px;">
                </div>
                <div class="p-8 flex flex-col justify-center">
                    <h3 class="font-oswald text-2xl uppercase mb-4">Stars & Garters</h3>
                    <p class="font-inter text-neutral-300 leading-normal">3914 N Clark St</p>
                    <p class="font-inter text-neutral-300 leading-normal mb-4">Chicago, IL 60613</p>
                    <a href="mailto:starsandgartersclub@gmail.com" class="font-inter text-neutral-400 hover:text-white">starsandgartersclub@gmail.com</a>
                    <a href="tel:+17732429929" class="font-inter text-neutral-400 hover:text-white">(773) 242-9929</a>
                </div>
            </div>
        </div>
        <div class="max-w-[1240px] mx-auto px-4 py-8 text-neutral-400 font-inter text-sm">
            <div class="mx-auto max-w-prose text-left">
                <p class="text-sm leading-tight">Stars & Garters is Chicago's finest theater for timeless entertainment. Stars & Garters is a woman-owned and artist-owned theater with a strong commitment to diversity, equity, inclusion, accessibility, and fair pay.</p>
            </div>
            <p class="mt-4 text-center">&copy; 2026 Stars & Garters</p>
        </div>
    </footer>
</body>
</html>
